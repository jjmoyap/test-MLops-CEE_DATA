schema: '2.0'
stages:
  eda:
    cmd: cd notebooks && mkdir -p _executed && papermill 00_eda_ds.ipynb 
      _executed/00_eda_ds_out.ipynb
    deps:
    - path: data/intermediate/df.pkl
      hash: md5
      md5: 14657b42cfa367a2682610d57bf76941
      size: 125908
    - path: data/raw/CEE_DATA.arff
      hash: md5
      md5: 6af58719c88b9a8c14df007cd35312e9
      size: 71018
    - path: notebooks/00_eda_ds.ipynb
      hash: md5
      md5: 982150aed8f5fe617a3d94f1f5929cbd
      size: 517193
    outs:
    - path: notebooks/_executed/00_eda_ds_out.ipynb
      hash: md5
      md5: 7059caafc0d5d1ed9e69135da70bdf89
      size: 517203
  data_engineering:
    cmd: cd notebooks && mkdir -p _executed && papermill 
      01_data_engineering.ipynb _executed/01_data_engineering_out.ipynb
    deps:
    - path: notebooks/01_data_engineering.ipynb
      hash: md5
      md5: b533895b708d7fa9179a901e30e73d64
      size: 5889
    - path: notebooks/_executed/00_eda_ds_out.ipynb
      hash: md5
      md5: 7059caafc0d5d1ed9e69135da70bdf89
      size: 517203
    outs:
    - path: notebooks/_executed/01_data_engineering_out.ipynb
      hash: md5
      md5: e57be646e4b10a6d46f3636ccaad8636
      size: 6844
  feature_engineering:
    cmd: cd notebooks && mkdir -p _executed && papermill 
      02_feature_engineering.ipynb _executed/02_feature_engineering_out.ipynb
    deps:
    - path: notebooks/02_feature_engineering.ipynb
      hash: md5
      md5: f05e7494196146f7894b18cadd6f3214
      size: 2014
    - path: notebooks/_executed/01_data_engineering_out.ipynb
      hash: md5
      md5: e57be646e4b10a6d46f3636ccaad8636
      size: 6844
    outs:
    - path: notebooks/_executed/02_feature_engineering_out.ipynb
      hash: md5
      md5: 5b4299e25f1cd0bdcab55c33a2a1d098
      size: 2974
  model_training:
    cmd: cd notebooks && mkdir -p _executed && papermill 03_model_training.ipynb
      _executed/03_model_training_out.ipynb
    deps:
    - path: notebooks/03_model_training.ipynb
      hash: md5
      md5: d023592275a1c98a1a128e5c35c6a74c
      size: 105484
    - path: notebooks/_executed/02_feature_engineering_out.ipynb
      hash: md5
      md5: 5b4299e25f1cd0bdcab55c33a2a1d098
      size: 2974
    outs:
    - path: notebooks/_executed/03_model_training_out.ipynb
      hash: md5
      md5: 6391020ac82734bf24310f5c96aaa309
      size: 106554
  full_pipeline:
    cmd: python src/pipelines/ml_pipeline.py
    deps:
    - path: data/raw/CEE_DATA.arff
      hash: md5
      md5: 6af58719c88b9a8c14df007cd35312e9
      size: 71018
    - path: src/data/load_data.py
      hash: md5
      md5: e5da0200bf3cfd7abec505bb4b963765
      size: 876
    - path: src/features/feature_engineering.py
      hash: md5
      md5: 363a95261d02d918923c4c30e8b1d22a
      size: 1945
    - path: src/models/mlflow.py
      hash: md5
      md5: e1f14577334e6632d3f03b6779f7b8ae
      size: 7338
    - path: src/models/train_models.py
      hash: md5
      md5: 225d19d54242e8ef5031793f494b7802
      size: 4884
    - path: src/pipelines/ml_pipeline.py
      hash: md5
      md5: 9005ac8403d20d2e9dfb59bf0ec2b2c0
      size: 2343
    - path: src/visualization/plot_utils.py
      hash: md5
      md5: 1d3f2485899346471c54ca69986042c0
      size: 2224
    outs:
    - path: mlruns/
      hash: md5
      md5: 5735d507dceddb3185ad547991b123ea.dir
      size: 16875483
      nfiles: 171
    - path: models/
      hash: md5
      md5: 8b6fe6b58248ac67a9dffa88a70fa004.dir
      size: 3787276
      nfiles: 2
    - path: results/
      hash: md5
      md5: ff555157958d02b56bc963666963b404.dir
      size: 928
      nfiles: 1
  drift_simulation:
    cmd: python src/monitoring/drift.py --raw data/raw/CEE_DATA.arff 
      --models_dir models --results src/monitoring/results_drift --reports 
      src/monitoring/reports_drift --experiment "Data Drift Monitoring" 
      --tracking_uri mlruns
    deps:
    - path: data/raw/CEE_DATA.arff
      hash: md5
      md5: 6af58719c88b9a8c14df007cd35312e9
      size: 71018
    - path: models/
      hash: md5
      md5: 8b6fe6b58248ac67a9dffa88a70fa004.dir
      size: 3787276
      nfiles: 2
    - path: src/data/load_data.py
      hash: md5
      md5: e5da0200bf3cfd7abec505bb4b963765
      size: 876
    - path: src/models/mlflow.py
      hash: md5
      md5: e1f14577334e6632d3f03b6779f7b8ae
      size: 7338
    - path: src/monitoring/drift.py
      hash: md5
      md5: b598d8a061de25996b4d6c2b8ecdee74
      size: 25687
    outs:
    - path: src/monitoring/reports_drift/
      hash: md5
      md5: 606fa2d20255c3190b9f0a62f01df756.dir
      size: 115096
      nfiles: 3
    - path: src/monitoring/results_drift/
      hash: md5
      md5: 057d8ef8385fc32df8e439b23b1c678c.dir
      size: 1633
      nfiles: 3
